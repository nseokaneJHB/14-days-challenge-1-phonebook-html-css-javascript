const base_path_regex=/^\/$/i;window.onload=()=>{(location.pathname.match(base_path_regex)||"/index.html"===location.pathname)&&LoadContactsIntoIndex(contact_list),"/contact.html"===location.pathname&&LoadSingleContact(),"/save-contact.html"===location.pathname&&LoadSingleContact()};let contact_list=JSON.parse(localStorage.getItem("PHONEBOOK_CONTACT_LIST"))||[];const BackHome=async()=>{localStorage.removeItem("PHONEBOOK_CONTACT_USER"),location.href="/"},LoadSingleContact=async()=>{let a=JSON.parse(localStorage.getItem("PHONEBOOK_CONTACT_USER"));if(null===a)return;let c=document.getElementById("fullNameCaption"),d=document.getElementById("firstName"),e=document.getElementById("lastName"),f=document.getElementById("phoneNumber"),g=document.getElementById("email"),h=document.getElementById("profileImageSource"),b=document.getElementById("profileImage");d.value=a.first_name,e.value=a.last_name,f.value=a.phone_number,g.value=a.email,b instanceof HTMLInputElement&&(b.value=a.profile_image),b instanceof HTMLImageElement&&(h.srcset=a.profile_image||"https://cdn.imgbin.com/6/25/24/imgbin-user-profile-computer-icons-user-interface-mystique-aBhn3R8cmqmP4ECky4DA3V88y.jpg",b.alt=`Picture of ${a.first_name} ${a.last_name}`),null!==c&&(c.innerHTML=`${a.first_name} ${a.last_name}`)},DeleteContact=async()=>{let c=JSON.parse(localStorage.getItem("PHONEBOOK_CONTACT_USER")),a=JSON.parse(localStorage.getItem("PHONEBOOK_CONTACT_LIST")),b=a.filter(a=>a.id!==c.id);localStorage.setItem("PHONEBOOK_CONTACT_LIST",JSON.stringify(b)),location.pathname.match(base_path_regex)||"/index.html"===location.pathname?location.reload():location.href="/"},SearchContact=()=>{let a=document.getElementById("searchText");if(""===a.value.trim())return LoadContactsIntoIndex(contact_list);LoadContactsIntoIndex(contact_list.filter(b=>b.first_name.toLowerCase().includes(a.value.toLowerCase().trim())||b.last_name.toLowerCase().includes(a.value.toLowerCase().trim())))}